- Voisiko pine.cc vaihtaa forest-main.cc ?

- SetScotsPineSegmentSf()) kutsuu  SetValue(*ts,LGAsf), joka on mé©é¡”çˆ†itelty include/ScotsPine.h ja jossa sf asetetaan valon perusteella funktiosta (sf.fun)

qmake  LignumForest.pro -spec macx-g++ -r "CONFIG+=release"


HUOM: SetValue(*ts, LGASf)  - asettaa sf:n valon mukaan, SomeFunctors.h ssa.

MoveTree on epŠjohonmukainen: perusmuodossaan se lisŠ vektorin (annettu konstruktorissa)
puun Comparmenttien paikkavektoreihin, siis ei oikeastaan MoveTo vaan AddVector. Siihen on
lisŠtty konstrktoreja, joilla myšs puun paikaa (SetPoint(tree)) siirretŠ.

Logiikkaa pitŠŠ jotenkin oikaista tai ainakin kirjoittaa kŠyttšohjeisiin, ettŠ puun siitymisen
paikkaan p1 saa aikaan MoveTo(p1-GetPoint(tree),tree) konstruktorin kutsulla.

Onko attribuutti BoundingBox bbox tarpeellinen VoxelSpacessa?

Voisi VoxelBoxI.h jŠttŠDumpSegment :ssa jŠttŠ laskematta b.starSum - ehkŠ sitŠ ei kŠytetŠ
missŠn   ---- taidetaan sentŠŠn kŠyt

Stem volume, Hc kysyttŠvŠksi Tree lta
Nyt Hc lasketaan TreeCharacteristics.h ssa

Metsikon (stand) kulmat maaritellaan vektoreiden (Point) avulla. Ohjelmat (mm. BorderForest) toimivat varmasti vain, jos z koordinaatti on nŠissŠ = 0 (paitsi tietenkin VoxelSpace:n upper right)Jos hhalutaan metsikkš rinteeseen, tarvitaan lisŠohjelmointia metsikšn kulmien ja koordinaattien kŠsttelyyn.

calculate-light.cc ei tarvita talla hetkella (9.6.2009), valonlaskenta on CalculateLight.h ssa - voinee poistaa tiedoston ajastaan projeltista.

Pitaa lisata mahdollisuus, etta BorderForest ei ole mukana laskuissa.

Border forest shading pitaa toteuttaa niin, etta varjostettava segmentti voi olla sen sisalla
(tapaus, etta reunapuun oksa kasvaa sinne sisaan).

GrowthLoop::writeOutput() ssa toimii nyt vain sellainen tulostus, joka on toteutettu
GetValue(tree, ) tavalla, muuten arvot tulevat samasta puusta (P , lamda ym.)

VoxelSpace valonsammumiseen (mukana: EvaluateRadiationForCfTreeSegment_1) pitaa tehda mukaan
myos puuosien vaikutus.

Oksat asettuvat paallekain puissa, pitaa tarkastaa pine-em98.L, muuta myos sen nimi.

7.9.2009 on muutettu, ettŠ valonlaskennassa (iclude/CalculateLight.h) neulaspinta-ala lasketaan neulasmassasta segmentin oman LGAsf:n avulla. TŠhŠn asti se on laskettu puutason parameterin LGPsf:n avulla. --- PitŠŠ hoitaa, ettŠ tŠmŠ tulee st-lignumin valonlaskentaan, ettei ala divergoida

11.8.2009 Poistettu calculate-light.cc projektista.

12.8.2009 HUOM
EvaluateRadiationForCfTreeSegment_1s  :ssa on borderforestextinction kommentoitu pois, koska sitï¾ƒï½¤ kï¾ƒï½¤ytetï¾ƒï½¤ï¾ƒï½¤n valolaskuissa ja niissï¾ƒï½¤ ei toistaiseksi ole borderforestia.

12.8.2009
initializeGrowthLoop()  ssa asetetaan nollaikÃ¤isten segmenttien (tullevat kun puu luetaan sisÃ¤Ã¤n) sf funktorilla
SetScotsPineSegmentSf, joka on mÃ¤Ã¤ritelty SomeFunctors.h:ssa. Huom kÃ¤ytÃ¤Ã¤ konstruktioita SetValue(ScotsPineSegment& ts,LGMAD  name), joka on mÃ¤Ã¤ritelty vain ScotsPine.h ssa ScotsPineSegmentille. 
OTETTU POIS.

21.8.2009
Lasketaan STAR arvoja:
 
- star-36-181-trees.dat: Tassa sf on Palmroth&Hari mukainen,  L = 9.3/(1.0+exp(5.0*(h-1.8)))
- star-36-181-trees.dat: sf on 0.5 * Palmroth&Hari. L on kuten ylla. 

HUOM!: Luultavasti vastaavissa valosimuloinneissakin, kun sf oli 0.5 * Palmroth&Hari niin
kuintekin L laskettiin kuten ylla, siis L = 9.3/(1.0+exp(5.0*(h-1.8))) 

- simulointi, jossa satunnaisesti 10-181 ja 20-181 puita 36 (samat sijainnit kuin ennen), pairwise.
  Mika puu missakin tulostetaan valo.txt.
  SetSf ja SetSf2 sf:t eri puille - katso niita.


25.9.2009

Pitaa erottaa, haluaako border forestin vaikutuksen
laskettavaksi vai ei omaksi switchikseen. Nyt taitaa olla yhdessä
voxel spacen kanssa.

9.10.2009
HUOM: Ajot, joissa puiden paikat vaihtelivat (/this-6, /this-7, /this-8) oli ajettu
k = a*n_seg^b*STAR, ja a=1.04, ja b= -0.03, vaikka nama ovat parhaat muuttujalle
Af/Box_vol.

24.11.2009

VoxelBox issa ovat metodit S() (=STAR) ja SAc() (=verson projektioala). Samat on kopioitu
core-model/Radiation/Shoot/star_mean.h (= funktiot). Pitaa hoitaa niin, etta funtiot on maaritelty
yhdessa paikassa jatkossa.

25.2.2010
Olen tuhonnut ajoja levytilan pelastamiseksi (~50GB)  this-* hakemistoja tuhoamalla. Kaikki muut this-* paitsi this-9 deletoitu. Myos vacation1 ... vacation5 hakemistot on deletoitu, ja tiedot
loytyvat myos Tuhotut-hakemistot-illut.txt tiedostosta

Ne loytyvat illut palvelimelta (/data2/matrps/kauri/matrps), joka on arkisto kaurin matrps hakemistosta. Ne menevat sinne joka paiva crontabilla:
>crontab -l :
0 23 * * * /usr/bin/rsync -avz '/Users/matrps' 'illut.metla.fi:kauri' > /Users/matrps/Sync/rsync.log
(jos muuttaa: >crontab -e)

Kaurilta deletoitujen hakemistojen sisalto loytyy Tuhotut-hakemistot-illut.txt tiedostosta.
illut palvelimelta voi palautella tiedostoja tarvittaessa.
